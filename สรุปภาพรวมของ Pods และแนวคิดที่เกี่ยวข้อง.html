<!doctype html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สรุปภาพรวมของ Pods และแนวคิดที่เกี่ยวข้อง</title>
    <style>
        /* --- ตัวแปรกลาง --- */
        :root {
            --bg-color: #f4f7f9;
            --text-color: #333;
            --primary-color: #326ce5;
            --card-bg: #ffffff;
            --border-color: #e0e0e0;
            --code-bg: #f0f0f0;
            --heading-color: #1a253c;
            --font-family: 'SF Pro Text', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        /* --- Reset และค่าเริ่มต้น --- */
        *, *::before, *::after {
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            line-height: 1.7;
            margin: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            padding: 1.5rem;
        }

        /* --- โครงสร้างหลัก --- */
        .container {
            width: 100%;
            max-width: 900px;
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(26, 37, 60, 0.08);
            overflow: hidden;
        }

        header {
            padding: 2rem 2.5rem;
            background-color: var(--primary-color);
            color: white;
            border-bottom: 4px solid rgba(0,0,0,0.1);
        }

        main {
            padding: 2.5rem;
        }
        
        section {
            margin-bottom: 2.5rem;
        }
        
        section:last-child {
            margin-bottom: 0;
        }

        footer {
            text-align: center;
            padding: 1.5rem;
            font-size: 0.9rem;
            color: #777;
            background-color: var(--bg-color);
        }

        /* --- องค์ประกอบตัวอักษร --- */
        h1 {
            margin: 0;
            font-size: 2rem;
            font-weight: 600;
        }

        h2 {
            font-size: 1.6rem;
            color: var(--heading-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.75rem;
            margin-top: 0;
            margin-bottom: 1.5rem;
        }
        
        p, li {
            font-size: 1rem;
        }

        code {
            font-family: 'SF Mono', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            background-color: var(--code-bg);
            padding: 0.2em 0.5em;
            border-radius: 5px;
            font-size: 0.9em;
            border: 1px solid var(--border-color);
        }

        /* --- รายการ (Bullet Points) --- */
        .feature-list {
            list-style: none;
            padding-left: 0;
        }

        .feature-list li {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .feature-list svg {
            flex-shrink: 0;
            margin-top: 5px;
            color: var(--primary-color);
        }
        
        .feature-list strong {
            color: var(--heading-color);
        }
        
        /* --- Canvas Diagram --- */
        canvas {
            display: block;
            width: 100%;
            margin: 2rem auto 0;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: #fafafa;
        }

    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>ภาพรวมของ Pods และแนวคิดที่เกี่ยวข้อง</h1>
        </header>

        <main>
            <section id="intro">
                <h2>พื้นฐานสำคัญของ Kubernetes</h2>
                <p>
                    <strong>Pods</strong> คือส่วนประกอบพื้นฐานที่เล็กที่สุดและสำคัญที่สุดใน Kubernetes ทุกแนวคิดและการทำงานอื่นๆ ล้วนมีความเกี่ยวข้องและต่อยอดมาจาก Pods ทั้งสิ้น การทำความเข้าใจ Pods จึงเป็นก้าวแรกที่สำคัญที่สุดในการเรียนรู้ Kubernetes
                </p>
            </section>
            
            <section id="learnings">
                <h2>สิ่งที่คุณได้เรียนรู้จากบทนี้</h2>
                <ul class="feature-list">
                    <li>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M21 16V8C21 6.89543 20.1046 6 19 6H12M21 16L12 21V15M21 16H12M12 6H5C3.89543 6 3 6.89543 3 8V16C3 17.1046 3.89543 18 5 18H12V6Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <div>
                            <strong>การจัดกลุ่ม Containers:</strong> เรียนรู้วิธีตัดสินใจว่า `containers` ใดควรจะถูกจัดกลุ่มให้อยู่ใน `pod` เดียวกัน เพื่อแชร์ Network และ Storage ร่วมกัน
                        </div>
                    </li>
                    <li>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                             <path d="M5 12H19M5 12L11 6M5 12L11 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <div>
                            <strong>Pods เปรียบเสมือน Hosts:</strong> `Pods` สามารถรันได้หลาย `process` และทำหน้าที่คล้ายกับเครื่อง `host` จริงๆ ในโลกที่ยังไม่มี `container`
                        </div>
                    </li>
                    <li>
                         <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M14 2H6C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M16 13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M16 17H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10 9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <div>
                            <strong>ไฟล์ Descriptor (YAML/JSON):</strong> สามารถเขียนไฟล์ `YAML` หรือ `JSON` เพื่อใช้สร้าง `pods` และตรวจสอบรายละเอียด (`specification`) รวมถึงสถานะ (`state`) ของ `pod` ได้
                        </div>
                    </li>
                    <li>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M20.59 13.41L19.41 12.23C19.22 12.04 18.96 11.95 18.71 11.95H17V10.25C17 10 16.8 9.8 16.59 9.69L13.41 7.41C13.22 7.23 12.96 7.12 12.7 7.12H10.5C10.22 7.12 10 7.35 10 7.62V10H8.29C8.04 10 7.78 10.09 7.59 10.29L4.17 13.71C4 13.89 3.91 14.15 3.91 14.4V17.5C3.91 17.78 4.14 18 4.41 18H8V19.71C8 19.96 8.09 20.22 8.29 20.41L11.71 23.83C11.89 24 12.15 24.09 12.4 24.09H15.5C15.78 24.09 16 23.86 16 23.59V21H17.75C18 21 18.2 20.8 18.31 20.59L20.59 17.41C20.77 17.22 20.88 16.96 20.88 16.7V14.5C20.88 14.22 20.86 14 20.59 13.41Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 8L3 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <div>
                            <strong>Labels และ Label Selectors:</strong> ใช้ `Labels` เพื่อจัดระเบียบ `pods` และใช้ `Label Selectors` เพื่อเลือกจัดการ `pods` หลายๆ ตัวพร้อมกันได้อย่างง่ายดาย
                        </div>
                    </li>
                     <li>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M3 8V16C3 17.1046 3.89543 18 5 18H19C20.1046 18 21 17.1046 21 16V8C21 6.89543 20.1046 6 19 6H5C3.89543 6 3 6.89543 3 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8 6V18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <div>
                             <strong>Namespaces:</strong> ช่วยให้หลายๆ ทีมสามารถใช้ `cluster` เดียวกันได้ โดยให้ความรู้สึกเหมือนกับว่าแต่ละทีมมี `Kubernetes cluster` แยกเป็นของตัวเอง
                        </div>
                    </li>
                </ul>
            </section>
            
            <section id="diagram-section">
                <h2>โครงสร้างของ Pod</h2>
                <p>
                    ไดอะแกรมด้านล่างแสดงแนวคิดของ Pod ที่มี IP Address เป็นของตัวเอง และภายในประกอบด้วย Container ตั้งแต่หนึ่งตัวขึ้นไป ซึ่งแชร์สภาพแวดล้อม Network เดียวกัน
                </p>
                <canvas id="podDiagram" width="800" height="300" aria-label="ไดอะแกรมแสดงโครงสร้าง Pod ที่มี 2 containers ภายใน"></canvas>
            </section>
        </main>
    </div>

    <script>
        // --- ฟังก์ชัน Utility สำหรับวาดบน Canvas ---

        /**
         * วาดกล่องสี่เหลี่ยมโค้งมน
         * @param {CanvasRenderingContext2D} ctx - Context ของ canvas
         * @param {number} x - ตำแหน่งแกน X
         * @param {number} y - ตำแหน่งแกน Y
         * @param {number} width - ความกว้าง
         * @param {number} height - ความสูง
         * @param {number} radius - รัศมีความโค้ง
         */
        const drawRoundRect = (ctx, x, y, width, height, radius) => {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
        };

        /**
         * วาดกล่อง Container ภายใน Pod
         * @param {CanvasRenderingContext2D} ctx - Context ของ canvas
         * @param {number} x - ตำแหน่งแกน X
         * @param {number} y - ตำแหน่งแกน Y
         * @param {string} title - ชื่อ Container
         * @param {string} subtitle - รายละเอียด
         */
        const drawContainer = (ctx, x, y, title, subtitle) => {
            const width = 200;
            const height = 120;
            ctx.fillStyle = '#e7f0ff';
            ctx.strokeStyle = '#a9c7ff';
            ctx.lineWidth = 1.5;
            
            drawRoundRect(ctx, x, y, width, height, 8);
            
            ctx.fillStyle = '#0d6efd';
            ctx.font = 'bold 16px var(--font-family)';
            ctx.textAlign = 'center';
            ctx.fillText(title, x + width / 2, y + 45);
            
            ctx.fillStyle = '#555';
            ctx.font = '14px var(--font-family)';
            ctx.fillText(subtitle, x + width / 2, y + 75);
        };

        /**
         * ฟังก์ชันหลักสำหรับวาดไดอะแกรม Pod ทั้งหมด
         * @param {HTMLCanvasElement} canvasEl - Element ของ canvas
         */
        const renderPodDiagram = (canvasEl) => {
            if (!canvasEl || !canvasEl.getContext) return;
            const ctx = canvasEl.getContext('2d');
            const { width, height } = canvasEl;
            
            // --- 1. วาดกรอบ Pod หลัก ---
            ctx.fillStyle = '#f8f9fa';
            ctx.strokeStyle = '#ced4da';
            ctx.lineWidth = 2;
            drawRoundRect(ctx, 20, 20, width - 40, height - 40, 15);
            
            // --- 2. เขียนชื่อและ IP ของ Pod ---
            ctx.fillStyle = '#495057';
            ctx.font = 'bold 18px var(--font-family)';
            ctx.textAlign = 'left';
            ctx.fillText('Pod', 40, 50);
            
            ctx.fillStyle = '#6c757d';
            ctx.font = '14px var(--font-family)';
            ctx.fillText('IP: 10.1.2.5 | Shared Network Namespace', 40, 75);

            // --- 3. วาด Containers ภายใน ---
            const containerY = 120;
            const containerStartX = 140;
            const containerGap = 250;
            
            drawContainer(ctx, containerStartX, containerY, 'Container A', 'Application Server');
            drawContainer(ctx, containerStartX + containerGap, containerY, 'Container B', 'Log Shipper');
        };
        
        // --- การทำงานหลักหลัง DOM โหลดเสร็จ ---
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('podDiagram');
            renderPodDiagram(canvas);
        });
    </script>
</body>
</html>